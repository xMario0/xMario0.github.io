<h1 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h1><h2 id="django-app设计"><a href="#django-app设计" class="headerlink" title="django-app设计"></a>django-app设计</h2><ol>
<li>用户模块</li>
<li>漏洞提交模块</li>
<li>漏洞管理模块</li>
</ol>
<h2 id="用户表设计"><a href="#用户表设计" class="headerlink" title="用户表设计"></a>用户表设计</h2><ol>
<li>username</li>
<li>password</li>
<li>nickname</li>
</ol>
<p>user/models.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> AbstractUser</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Create your models here.</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserProfile</span><span class="params">(AbstractUser)</span>:</span></div><div class="line">    nickname = models.CharField(max_length=<span class="number">20</span>, verbose_name=<span class="string">'昵称'</span>, default=<span class="string">'带头大哥'</span>)</div><div class="line">    image = models.ImageField(upload_to=<span class="string">"image/%Y/%m"</span>, default=<span class="string">"image/default.png"</span>, max_length=<span class="number">100</span>)</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">"用户信息"</span></div><div class="line">        verbose_name = verbose_name</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.username</div></pre></td></tr></table></figure>
<p>settings.py 写入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">AUTH_USER_MODEL = <span class="string">"users.UserProfile"</span></div></pre></td></tr></table></figure>
